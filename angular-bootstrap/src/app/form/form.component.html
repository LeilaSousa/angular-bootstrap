<div class="container">
  <h1>Agende seu horário</h1>

  <form #f="ngForm" (ngSubmit)="onSubmit(f)" >
    <!--Nome-->
    <div class="form-floating mb-3" >

      <input type="text" class="form-control"
      id="name" name="name" ngModel required #nome="ngModel" [class.is-invalid]="!nome.valid && nome.touched" [class.is-valid]="nome.valid">

      <label for="name" class="form-label ">Nome</label>

      <!--Validação do nome-->
      <div *ngIf="!nome.valid" class="invalid-feedback" >
         <p >
        Preencha este campo.</p>
      </div>
    </div>

    <!--E-mail-->
    <div class="form-floating mb-3">
      <input type="email" class="form-control email" id="email" name="email" ngModel required email #email="ngModel" [class.is-invalid]="!email.valid && email.touched" [class.is-valid]="email.valid">
      <label for="email">Email</label>
      <div *ngIf="email.invalid"class="invalid-feedback">
        <p>Preencha este campo com um e-mail válido.</p>
      </div>
    </div>

    <!--Telefone (Rever validação)-->
    <div class="form-floating mb-3">
      <input type="tel" minlength="8"maxlength="11"class="form-control" id="telefone"name= "telefone" ngModel required #telefone="ngModel" [class.is-invalid]="!telefone.valid && telefone.touched"[class.is-valid]="telefone.valid">
      <label for="telefone">Telefone</label>
      <div *ngIf="telefone.invalid" class="invalid-feedback">
        <p>Preencha este campo com um telefone válido.</p>
      </div>
    </div>

    <!--Serviço-->
    <div class="form-floating mb-3">
      <select name="servico" id="servico" class="form-select" required ngModel #servico="ngModel" [class.is-invalid]="!servico.valid && servico.touched"[class.is-valid]="servico.valid">
        <option selected disabled>Selecione</option>
        <option value="1">Escova
        </option>
        <option value="2">Massagem
        </option>
        <option value="3">Unha
        </option>
        <option value="4">Corte
        </option>
      </select>
      <label for="servico">Qual serviço deseja agendar?</label>
      <div *ngIf="!servico.valid" class="invalid-feedback"><p>Escolha um serviço</p></div>
    </div>
    <!--Data-->
    <div class="form-floating mb-3">
      <input class="form-control" type="date" id="date" name="date" ngModel #date="ngModel" [class.is-invalid]="date.invalid && date.touched" [class.is-valid]="date.valid" required>
      <label for="date" class="form-label">Escolha a data</label>
      <div *ngIf="date.invalid" class="invalid-feedback"><p>Escolha uma data</p></div>
    </div>
    <!--Horário (falta incluir min e max)-->
    <div class="form-floating mb-3">
      <input class="form-control" type="time" id="time" name="time" ngModel   #time="ngModel" [class.is-invalid]="!time.valid && time.touched" [class.is-valid]="time.valid " required>
      <label for="time">Escolha um horário</label>
      <div *ngIf="!time.valid" class="invalid-feedback"><p>Escolha um horário</p></div>
    </div>



    <button type="submit" class="btn btn-secondary mb-3" [disabled]="f.invalid" routerLink="/success">Agendar</button>

  </form>


</div>

